{% extends 'base.html' %}
{% load static %}
{% block title %}
  Pay your order
{% endblock %}
{% block content %}
  <div class="paints-header text-center mt-3 font-weight-bold">
    <h1>Order Summary</h1>
    <hr class="hr--large" />
  </div>

  <div class="container mt-3">
    <div class="row main-container">
      
      <div class="cartlist col-md-8" style="padding-right: 50px;">
        {% for item in order.items.all %}
          <a href="{% url 'paint_detail' item.storeitem.id %}" class="text-decoration-none text-dark">
            <div class="list d-flex  ">
              <div class="cart-img ">
                <img 
                  src="{% if item.storeitem.item_photo %}{{ item.storeitem.item_photo.url }}{% else %}{% static 'img/no_image.png' %}{% endif %}" 
                  alt="{{ item.storeitem.item_name }}" 
                  style="width: 200px; height: auto; object-fit: cover; border-radius: 5px;" 
                />
              </div>
              <div class="cart-details-responsive flex-grow-1">
                <h3 class="cart-title mb-2">
                  {{ item.storeitem.item_name }}
                  <span class="small-quantity">{{ item.quantity }}x</span>
                </h3>
                <p class="cart-price mb-2" style="font-size: 1.2rem;">${{ item.storeitem.item_price }}</p>
                <p class="card-text cart-description mb-4">{{ item.storeitem.item_description }}</p>
              </div>
            </div>
          </a>
          {% if not forloop.last %}
          <hr class="hr--large" />
          {% endif %}
        {% endfor %}
      </div>

      <div class="payment-options col-md-4">
        <div class="text-center mb-4">
          <h4 class="mb-3">Total Cost: ${{ order.get_total_cost }}</h4>
        
        </div>
        <form action="{% url 'payment:process' %}" method="post" class=" text-center">
          {% csrf_token %}
          <input type="submit" value="Pay now" class="btn btn-warning " />
        </form>
      </div>

    </div>
  </div>

  <style>
    .hover-shadow:hover {
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }
    .custom-btn {
      background-color: #ff9800;
      border: none;
      transition: background-color 0.3s ease;
    }
    .custom-btn:hover {
      background-color: #e68900;
    }
  </style>
{% endblock %}
